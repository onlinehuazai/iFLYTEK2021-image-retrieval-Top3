# iFLYTEK2021-image-retrieval-Top3
2021科大讯飞电商图像检索挑战赛  举办方：科大讯飞xDatawhale


队名：废物1号

比赛结束了，下面分享的是我的思路，思路很简单，希望更多的大佬能提供优质的上分思路，互相借鉴学习。





# 方案主要思路

1.  去掉人脸，人脸对衣服有干扰，采用MTCNN人脸检测将人脸上面的部分裁减掉（明显上分）。
2.  损失函数结合Arcface,  Triplet loss, Center loss.  BackBone 采用efficientnet_b3.
3.  多折交叉验证，线下效果比较好的的那一折最后取个大一点的权重。第一折和第三折不加center loss. 因为线下验证效果差了。
4.  阈值0.59。没时间调试，应该有更好的。







# 其他尝试点

1. 数据增强方面用了对衣服颜色增强，将衣服分割出来，改变衣服颜色，但是效果线下比较差，由于时间问题，没去找原因，但我依然认为这是一个比较好的上分思路。
2. Backbone可以换成其他的，比如IBN等等，但是我线下效果不好，可能线上效果好，次数有限，没有去试。
3. 数据增强还有很多可以探讨的，根据第一（time佬）透露，hsv增强很有用。
4. Focal loss效果不明显，但是smooth平滑有用。


# 运行
先运行Cut_image生成去掉face的图片，在依次运行one,two,three,four,five_fold, 最后在total_fold里面生成提交文件
